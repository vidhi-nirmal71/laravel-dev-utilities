<!-- Laravel 6.3 to 7.30 Upgrade Documentation -->
<!-- <h2 class="text-center mb-4">Laravel 6.3 to 7.30 Upgrade Documentation</h2> -->
<!-- <p class="lead mb-5">This document outlines the detailed steps required to upgrade a Laravel project from version 6.x to 11.</p> -->

<section class="upgrade-intro">
  <p>This document outlines the detailed steps required to upgrade a Laravel project from version <strong>6.x</strong> to <strong>11</strong>. The upgrade includes updates to the composer.json file, adjustments to key package versions, and modifications to Handler.php to ensure compatibility with Laravel 7.30.</p>

  <h4>Why Laravel 7.30 and Not Laravel 7.*?</h4>
  <p>We have specifically chosen Laravel <strong>11</strong> instead of using a wildcard version like 11 because Laravel 7.30 is the latest and most stable release in the Laravel 7 series. It includes all relevant bug fixes, security updates, and performance improvements up to the final release in that version line.</p>

  <p>Locking the version to <code>7.30</code> ensures consistent behavior and avoids unexpected issues that might arise from future patch-level changes. It also guarantees compatibility with the project's dependencies, such as altek/accountant, arcanedev/log-viewer, and others.</p>

  <p>Although Laravel 7 is not an LTS (Long-Term Support) release, using the final stable version within the series provides a more predictable and secure environment, especially for production deployments. This approach minimizes upgrade risks and ensures a stable foundation for the application.</p>
</section>

<h4>1. Backup the Project and Database</h4>
<pre><code>cp -r laravel-adminpanel laravel-adminpanel-backup

# OR use Git
git add .
git commit -m "Backup before Laravel 7 upgrade"
git tag pre-laravel-7
git push origin dev-upgrade-6-to-7 --tags

# Back up the database
mysqldump -u youruser -p yourdatabase > db_backup.sql
</code></pre>

<h4>2. Update Laravel Version in composer.json</h4>
<p>Edit <code>composer.json</code>: <code>"laravel/framework": "^11"</code></p>
<pre><code>
composer update
COMPOSER_MEMORY_LIMIT=-1 composer update
</code></pre>

<h4>3. Fix Package Compatibility Issues</h4>
<ul>
  <li><strong>Problem:</strong> Package requires laravel/framework ^6.x</li>
  <li><strong>Solution:</strong> <code>composer require vendor/package:^X.Y</code></li>
</ul>

<h4>4. Clear and Optimize Laravel Setup</h4>
<pre><code>
php artisan config:clear
php artisan route:clear
php artisan view:clear
php artisan cache:clear
composer dump-autoload
php artisan optimize
</code></pre>

<h4>5. Handle Code Changes (Handler.php)</h4>
<ul>
  <li>Adjust method signatures</li>
  <li>Remove deprecated methods</li>
  <li>Add missing imports</li>
  <li>Change <code>Exception</code> to <code>Throwable</code></li>
</ul>

<h4>6. Check Project Functionality</h4>
<p>Ensure:</p>
<ul>
  <li>Pages load correctly</li>
  <li>JS and CSS are working</li>
  <li>No console or network errors</li>
</ul>

<h4>7. Run Migrations and Test Data</h4>
<pre><code>
php artisan migrate
php artisan db:seed
</code></pre>

<h4>8. Run Tests</h4>
<pre><code>php artisan test</code></pre>

<h4>9. Final Cleanup</h4>
<pre><code>
php artisan config:cache
php artisan route:cache
php artisan view:cache

# Optional
vendor/bin/php-cs-fixer fix
git commit --no-verify -m "Laravel upgraded to 11"
</code></pre>

<h4>10. Summary of Commands</h4>
<pre><code>
# Backup
cp -r laravel-adminpanel laravel-adminpanel-backup
mysqldump -u root -p dbname > backup.sql

# Update
composer update
COMPOSER_MEMORY_LIMIT=-1 composer update

# Fix packages
composer require vendor/package:^version

# Clear + optimize
php artisan config:clear
php artisan optimize
php artisan migrate
php artisan serve
php artisan test

# Commit
git commit -am "Upgraded Laravel to 11"
git push
</code></pre>

<h4>Composer Package Changes</h4>
<h6>✅ Updated Packages:</h6>
<ul>
  <li>PHP: ^7.4</li>
  <li>laravel/framework: ^11</li>
  <li>altek/accountant: ^2.1</li>
  <li>arcanedev/log-viewer: ^7.0</li>
  <li>nunomaduro/collision: ^4.0</li>
</ul>

<h6>➕ Added Packages:</h6>
<ul>
  <li>laravel/ui: ^2.0</li>
  <li>symfony/console: ^5.0</li>
  <li>illuminate/auth: ^7.30</li>
</ul>

<h6>❌ Removed Packages:</h6>
<ul>
  <li>facade/ignition: ^1.11</li>
  <li>phpro/grumphp: ^1.0</li>
  <li>roave/security-advisories: dev-master</li>
</ul>

<p class="mt-5">This upgrade ensures your Laravel app is <strong>stable, secure, and aligned</strong> with modern PHP practices.</p>